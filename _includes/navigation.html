<header class="headroom tw-fixed tw-top-0 tw-left-0 tw-w-full tw-bg-white dark:tw-bg-gray-900 tw-shadow-md tw-z-50">
  <nav class="tw-flex tw-items-center tw-justify-between tw-px-4 md:tw-px-8 tw-py-4 tw-w-full" role="navigation">
    <!-- Logo -->
    <a href="{{ site.baseurl }}/" class="tw-flex tw-items-center">
      <img src="{{site.baseurl}}/images/elitmus-only-logo.svg" alt="Logo" class="tw-h-8 tw-w-auto">
      <span class="tw-ml-2 tw-text-lg tw-font-semibold tw-text-gray-800 dark:tw-text-yellow-400">Blog</span>
    </a>

    <!-- Search Bar -->
    <div class="tw-relative tw-hidden md:tw-block">
      <input 
        type="text" 
        id="search-box" 
        placeholder="Search..." 
        class="tw-px-4 tw-py-2 tw-w-72 tw-rounded-lg tw-border tw-border-gray-300 tw-bg-gray-50 tw-text-gray-800 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-yellow-400">
      <div class="tw-absolute tw-top-full tw-left-0 tw-w-full tw-bg-white dark:tw-bg-gray-800 tw-shadow-lg tw-rounded-lg tw-hidden" id="search-dropdown">
        <a href="#" class="tw-block tw-px-4 tw-py-2 tw-text-gray-700 dark:tw-text-gray-200 hover:tw-bg-gray-100 dark:hover:tw-bg-gray-700">Type more...</a>
      </div>
    </div>

    <!-- Toggle Button -->
    <button id="menu-toggle" class="tw-block md:tw-hidden tw-bg-gray-200 dark:tw-bg-gray-700 tw-p-2 tw-rounded-lg focus:tw-outline-none">
      <span class="tw-h-5 tw-w-5 tw-bg-gray-800 dark:tw-bg-gray-100"></span>
    </button>

    <!-- Navigation Links -->
    <div id="menu" class="tw-hidden md:tw-flex tw-items-center tw-space-x-6">
      {% for link in site.links %}
        {% if link.external %} 
          <a href="{{link.url}}" class="tw-text-gray-800 dark:text-gray-200 hover:tw-text-yellow-500 tw-transition">
            <i class="{{link.icon}}"></i> {{ link.title }}
          </a>
        {% else %} 
          <a href="{{ site.url }}{{ site.baseurl }}{{ link.url }}" class="tw-text-gray-800 dark:text-gray-200 hover:tw-text-yellow-500 tw-transition">
            <i class="{{link.icon}}"></i> {{ link.title }}
          </a>
        {% endif %}
      {% endfor %}
      <a href="{{ site.url }}{{ site.baseurl }}/feed.xml" class="tw-text-gray-800 dark:text-gray-200 hover:tw-text-yellow-500 tw-transition">
        <i class="fa fa-rss"></i> Feed
      </a>
      <!-- Dark Mode Toggle -->
      <button id="darkModeToggle" class="tw-ml-4 tw-bg-gray-200 dark:bg-gray-700 tw-p-2 tw-rounded-lg tw-flex tw-items-center focus:tw-outline-none">
        <img id="sunIcon" class="tw-h-5 tw-w-5 dark:hidden" src="{{ site.baseurl }}/images/dark-mode-svgrepo-com (1).svg" alt="Sun Icon">

        
        
        <img id="moonIcon" class="tw-h-5 tw-w-5 tw-hidden dark:block" src="{{ site.baseurl }}/images/dark-mode-svgrepo-com (1).svg" alt="Moon Icon">

        
        
      </button>
    </div>
  </nav>
</header>

<script>
  const menuToggle = document.getElementById('menu-toggle');
  const menu = document.getElementById('menu');
  const darkModeToggle = document.getElementById('darkModeToggle');
  const htmlElement = document.documentElement;

  menuToggle.addEventListener('click', () => {
    menu.classList.toggle('tw-hidden');
  });

  darkModeToggle.addEventListener('click', () => {
    if (htmlElement.classList.contains('tw-dark')) {
      htmlElement.classList.remove('tw-dark');
      localStorage.setItem('theme', 'light');
    } else {
      htmlElement.classList.add('tw-dark');
      localStorage.setItem('theme', 'dark');
    }
  });

  // Apply saved theme on load
  if (localStorage.getItem('theme') === 'dark') {
    htmlElement.classList.add('tw-dark');
  }
</script>
